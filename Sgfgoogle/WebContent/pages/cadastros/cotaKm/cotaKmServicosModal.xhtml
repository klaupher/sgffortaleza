<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:fragment xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:t="http://myfaces.apache.org/tomahawk">
    
    <a4j:outputPanel id="panelServicos">
    
    <rich:modalPanel id="cotaKmServicosModal" domElementAttachment="form" autosized="true" width="450" showWhenRendered="#{cotaKmBean.updateState}">

	<h:form>

  		<div id="cadastro">      

			<h1>Cota de Quilometragem</h1>

			<fieldset>

				<legend>Nova  Cota</legend>

				<dt>
					<label for="modeloCotas">Veículo</label>
				</dt>
				<dd>
					<h:inputText id="modeloCotas" value="#{cotaKmBean.entity.veiculo.placa} #{cotaKmBean.entity.veiculo.modelo.descricao}" size="16" disabled="true"/>
				</dd>

				<dt>
					<label for="disponivel">Cota disponível atual</label>
				</dt>
				<dd>
					<h:inputText id="disponivel" value="#{cotaKmBean.entity.cotaKmDisponivel}" size="8"  disabled="true"/>
				</dd>

				<dt>
					<label for="valorCota">Valor da Cota</label>
				</dt>
				<dd>
					<h:inputText id="valorCota" value="#{cotaKmBean.entity.cotaKm}" size="8"/>
				</dd>

			</fieldset>

			<a4j:commandButton value="Gravar" action="#{cotaKmBean.save}" reRender="paginaPrincipal"
				oncomplete="Richfaces.hideModalPanel('cotaKmServicosModal');" rendered="#{cotaKmBean.saveState}">
			</a4j:commandButton>

			<a4j:commandButton value="Alterar" action="#{cotaKmBean.atualizarCotaVeiculo}" reRender="paginaPrincipal"  
				oncomplete="Richfaces.hideModalPanel('cotaKmServicosModal');" rendered="#{cotaKmBean.updateState}">
			</a4j:commandButton>

			<h:commandButton action="#{cotaKmBean.search}" value="Cancelar" />

		</div>	

	</h:form>

	</rich:modalPanel>

	</a4j:outputPanel>  	

</ui:fragment>
